# Git 完整指南

## 目錄
- [什麼是 Git？](#什麼是-git)
- [Git 的核心概念](#git-的核心概念)
- [基本指令說明](#基本指令說明)
- [分支管理](#分支管理)
- [遠端協作](#遠端協作)
- [進階技巧](#進階技巧)
- [常見問題解決](#常見問題解決)

## 什麼是 Git？

Git 是一個分散式版本控制系統，由 Linux 之父 Linus Torvalds 於 2005 年開發。它的主要目的是：

1. 追蹤程式碼的變更歷史
2. 協助多人協作開發
3. 管理不同版本的程式碼
4. 確保程式碼的安全性和可回溯性

### Git 與其他版本控制系統的區別

- **分散式系統**：每個開發者都有完整的版本歷史
- **高效能**：使用快照（snapshot）而非差異比較
- **資料完整性**：使用 SHA-1 雜湊確保資料安全

## Git 的核心概念

### 1. 工作區域

Git 專案有三個主要的工作區域：

- **工作目錄（Working Directory）**：
  - 實際檔案所在的目錄
  - 可以直接編輯的區域

- **暫存區（Staging Area）**：
  - 準備要提交的檔案清單
  - 也稱為 index

- **儲存庫（Repository）**：
  - 儲存所有版本資訊的地方
  - 包含完整的歷史紀錄

### 2. 檔案狀態

Git 中的檔案可能處於以下狀態：

- **未追蹤（Untracked）**：新檔案，Git 未管理
- **已修改（Modified）**：檔案有變更但未加入暫存區
- **已暫存（Staged）**：檔案已加入暫存區，準備提交
- **已提交（Committed）**：檔案已永久儲存在 Git 資料庫中

## 基本指令說明

### 初始設定

```bash
# 設定使用者資訊
git config --global user.name "你的名字"
git config --global user.email "你的信箱"

# 初始化新的 Git 儲存庫
git init
```

### 基本操作

```bash
# 查看檔案狀態
git status

# 將檔案加入暫存區
git add 檔案名稱
git add .  # 加入所有檔案

# 提交變更
git commit -m "提交說明"

# 查看提交歷史
git log
```

## 分支管理

### 分支操作

```bash
# 建立新分支
git branch 分支名稱

# 切換分支
git checkout 分支名稱
# 或使用新語法
git switch 分支名稱

# 建立並切換分支
git checkout -b 分支名稱

# 合併分支
git merge 來源分支
```

### 分支策略

- **主分支（main/master）**：穩定版本
- **開發分支（develop）**：開發中版本
- **功能分支（feature）**：新功能開發
- **修復分支（hotfix）**：緊急錯誤修復

## 遠端協作

### 基本遠端操作

```bash
# 複製遠端儲存庫
git clone 儲存庫網址

# 推送到遠端
git push origin 分支名稱

# 取得遠端更新
git pull origin 分支名稱

# 查看遠端資訊
git remote -v
```

### 協作流程

1. 從遠端取得最新代碼
2. 建立功能分支
3. 進行開發工作
4. 提交變更
5. 推送到遠端
6. 發起合併請求（Pull Request）

## 進階技巧

### 回復變更

```bash
# 取消暫存區的檔案
git reset HEAD 檔案名稱

# 捨棄工作目錄的修改
git checkout -- 檔案名稱

# 回復到指定的提交
git reset --hard 提交編號
```

### Stash 暫存

```bash
# 暫存當前修改
git stash

# 查看暫存列表
git stash list

# 套用暫存
git stash apply

# 清除暫存
git stash drop
```

## 常見問題解決

### 1. 合併衝突

當多人修改同一個檔案時可能發生衝突：

1. 開啟衝突檔案
2. 尋找衝突標記（<<<<<<, ======, >>>>>>）
3. 選擇要保留的內容
4. 移除衝突標記
5. 重新提交

### 2. 找回誤刪的提交

```bash
# 查看所有操作記錄
git reflog

# 回復到指定操作
git reset --hard 操作編號
```

## 最佳實踐建議

1. **經常性提交**：小幅度的變更較容易管理
2. **清楚的提交說明**：幫助理解變更目的
3. **定期同步遠端**：避免過大的合併衝突
4. **善用分支**：隔離不同的開發工作
5. **及時處理衝突**：避免衝突堆積造成困擾

## 進階參考資源

- [Git 官方文件](https://git-scm.com/doc)
- [Pro Git 中文版](https://git-scm.com/book/zh/v2)
- [GitHub 學習實驗室](https://lab.github.com/)

記住，Git 是一個強大的工具，熟練掌握需要時間和練習。建議從基本概念開始，逐步學習更進階的功能。
